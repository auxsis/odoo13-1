<?xml version="1.0" encoding="UTF-8"?>

<templates id="template" xml:space="preserve">
    <t t-name="OrderReceipt">

        <div class="pos-receipt" style="column-gap:5px; font-family:Inconsolata; font-size: 15px;">
            <div class="pos-logo" style="margin-top: 1px;" align="center">
<!--                 <img t-att-src="'data:image/png;base64,'+ widget.pos.company.logo"-->
<!--                      style="max-height: 1.5cm; width: 80%;"/>-->
                <t t-if='receipt.company.logo'>
                    <img class="pos-receipt-logo" t-att-src='receipt.company.logo' alt="Logo"/>
                    <br/>
                </t>
            </div>
            <br/>
            <div class="pos-center-align">
                <h2>
                    <b>
                        WAREHOUSE
                    </b>
                </h2>
            </div>
            <div class="pos-center-align">
                <t t-if="widget.pos.company.street">
                    <div style="width:100%;"><t t-esc="widget.pos.company.street"/></div>
                </t>
                <t t-if="widget.pos.company.street2">
                    <t t-esc="widget.pos.company.street2"/>
                </t>
                <t t-if="widget.pos.company.city">
                    <t t-esc="widget.pos.company.city"/>
                </t>
                <t t-if="widget.pos.company.country_id">
                    <t t-esc="widget.pos.company.country_id"/>
                </t>
            </div>
            <br/>
            <div class="pos-center-align">
                <b>
                    STN #
                    <!--                     <t t-esc="order.job_created_name"/>/ -->
                    <t t-esc="3277876113020"/>
                    <br/>
                    NTN #
                    <t t-esc="4442615"/>
                    <br/>
                </b>
            </div>
            <div class="centered">
                <center>
                    <b>
                        <p style="border-style: solid;">Sale Receipt</p>
                    </b>
                </center>
            </div>
            <table class='receipt-total'>
                <tr>
                    <td>
                        <strong>Invoice #</strong>
                    </td>
<!--                    <td class="pos-right-align">-->
<!--                        <t t-esc='widget.pos.invoice_number'/>-->
<!--                    </td>-->
                </tr>
                <tr>
                    <td>
                        <strong>Operator Name #</strong>
                    </td>
                    <td class="text-right" style="float:right;">
                        <t t-esc="widget.pos.cashier ? widget.pos.cashier.name : widget.pos.user.name"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>Inv Date #</strong>
                    </td>
                    <td class="pos-right-align">
                        <t t-esc="order.formatted_validation_date"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>Client Name #</strong>
                    </td>
                    <td class="pos-right-align">
                        <t t-esc="order.get_client() and order.get_client().name"/>
                    </td>
                </tr>
                <br/>
                <br/>
                <tr>
                    <td>
                        <strong>Counter #</strong>
                    </td>
                    <td class="pos-right-align">
                        <t t-esc="widget.pos.config.name"/>
                    </td>
                </tr>
            </table>
            <br/>
            <table class='class="table table-bordered"'>
                <colgroup>
                    <col width='70%'/>
                    <col width='20%'/>
                    <col width='20%'/>
                    <col width='30%'/>
                    <col width='20%'/>
                </colgroup>
                <tr style="outline: thin solid">
                    <th>ITEM</th>
                    <th>Price</th>
                    <th>QTY</th>
<!--                    <th class="pos-right-align">Tax</th>-->
                    <th>Disc</th>
                    <th class="pos-right-align">Amount.</th>
                </tr>
                <t t-set="totl_qty" t-value="0"/>
                <t t-set="total_items" t-value="0"/>
                <tr t-foreach="orderlines" t-as="orderline">
                    <td>
<!--                        <t t-set='simple' t-value='(line.discount === 0 and line.unit_name === "Units" and line.quantity === 1 and !discount_to_show and !(line.display_discount_policy == "without_discount" &amp;&amp; line.price != line.price_lst))' />-->
<!--                        <t t-if='simple'>-->
<!--                            <div>-->
<!--                                <t t-esc='line.product_name_wrapped[0]'/>-->
<!--&lt;!&ndash;                                <span t-esc='widget.format_currency_no_symbol(line.price_display)' class="price_display pos-receipt-right-align"/>&ndash;&gt;-->
<!--                            </div>-->
<!--                            <t t-call="OrderReceiptWrappedProductNameLines"/>-->
<!--                        </t>-->
                        <t t-esc="orderline.get_product().display_name"/>
                    </td>
                    <td>
<!--                        <t t-set="unit_price" t-value="orderline.get_unit_price()"/>-->
                        <t t-if="widget.pos.config.is_partner_pos == false">
                            <t t-set="unit_price" t-value="orderline.get_unit_price()"/>
                        </t>
                        <t t-set="quantity" t-value="orderline.quantity"/>
                        <t t-set="discount" t-value="orderline.discount"/>
                        <t t-if="orderline.get_product().list_price != unit_price">
                            <div style="text-decoration:line-through">
                                <t t-if="widget.pos.config.is_partner_pos == false">
                                    <t t-esc="orderline.get_product().list_price"/>
                                </t>
                            </div>
                            <t t-if="discount">
                                <t t-set="total_disc_price"  t-value="(unit_price * discount) / 100"/>
                                <t t-esc="(unit_price- total_disc_price)"/>
                            </t>
                            <t t-if="discount == 0.00">
                                <t t-esc="unit_price"/>
                            </t>
                        </t>
                        <t t-if="orderline.get_product().list_price == unit_price">
                            <div>
                                <t t-if="widget.pos.config.is_partner_pos == false">
                                <t t-esc="orderline.get_product().list_price" />
                                </t>
                            </div>
                        </t>
                    </td>
                    <td>
<!--                        <t t-esc="round(orderline.get_quantity_str())"/>-->
                        <t t-esc="orderline.quantity"/>
                    </td>
                    <td>
                        <t t-esc="orderline.discount"/>
                    </td>
                    <t t-set="totl_qty" t-value="totl_qty + orderline.get_quantity()"/>
                    <td class="pos-right-align">
                        <t t-esc="orderline.get_display_price()"/>
                    </td>
                </tr>
            </table>
            <center>
                <b>
                    WOMEN
                </b>
            </center>
            <hr style="width: 100%;height: 0px;"/>
            <strong style="float:right;">Total Qty: <t t-esc="totl_qty"/></strong>
            <br/>
            <table>
                <tr>
                    <td>
                        <strong>Exclusive of G.S.T :</strong>
                    </td>
                    <td class="pos-right-align">
                        <t t-esc="widget.format_currency(order.get_total_without_tax())"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>G.S.T : </strong>
                    </td>
                    <td class="pos-right-align">
                        <t t-if="widget.pos.config.is_partner_pos == false">
                            <tr t-foreach='receipt.tax_details' t-as='tax'>
                                <td><t t-esc='tax.name'/></td>
                                <td class="pos-right-align"><t t-esc='widget.format_currency(tax.amount)'/></td>
                            </tr>
                        </t>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>Gross Inclusive of G.S.T : </strong>
                    </td>
                    <td class="pos-right-align">
                        <t t-set="tax_amount" t-value="widget.format_currency(order.get_total_without_tax())"/>
                        <t t-esc='widget.format_currency(order.get_total_with_tax())'/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>On Item Discount: </strong>
                    </td>
                    <td class="pos-right-align">
                        <t t-if="widget.pos.config.is_partner_pos == false">
                            <t t-esc="widget.format_currency(order.get_total_discount())"/>
                        </t>
                    </td>
                </tr>
                <br/>
                <br/>
                <tr>
                    <td>
                        <h4>Net Amount:</h4>
                    </td>
                    <td class="pos-right-align">
                        <t t-esc='widget.format_currency(order.get_total_with_tax())'/>
                    </td>
                </tr>
            </table>
            <div class="centered">
                <center>
                    <b>
                        <p style="border-style: solid;">Payment Details</p>
                    </b>
                </center>
            </div>
            <table class='class="table table-bordered"'>
                <colgroup>
                    <col width='25%'/>
                    <col width='15%'/>
                    <col width='15%'/>
                </colgroup>
                <tr style="outline: thin solid">
                    <th>Mode</th>
                    <th class="pos-right-align">Amount</th>
                </tr>
                <t t-foreach="paymentlines" t-as="line">
                    <tr>
                        <td>
                            <t t-esc="line.name"/>
                        </td>
                        <td class="pos-right-align">
                            <t t-if="widget.pos.config.is_partner_pos == false">
                                <t t-esc="widget.format_currency(line.get_amount())"/>
                            </t>
                        </td>
                    </tr>
                </t>
<!--                <tr style='border-bottom:1pt solid black;' t-foreach="journals" t-as="journal">-->
<!--                    <td>-->
<!--                        <t t-esc="widget.pos.journals.type"/>-->
<!--                    </td>-->
<!--                </tr>-->
            </table>
            <t t-set="tax_inclusive" t-value="widget.format_currency(order.get_total_without_tax())"/>
            <t t-set="taxes" t-value="(tax_inclusive * 17) / 100"/>
            <t t-esc='taxes'/>
            <t t-set="discount_item" t-value="widget.format_currency(order.get_total_discount())"/>
            <t t-set="total_saving" t-value="taxes - discount_item"/>
            <div class="centered">
                <center>
                    <b>
                        <p style="border-style: solid;">You Saved : <t t-esc="widget.format_currency(order.get_total_discount())"/></p>
                    </b>
                </center>
            </div>
            <br/>
            <div style='text-align:left'>
                <span>Thanks for shopping with us!</span>
                <br/>
                <span><b>Terms &amp; Conditions:</b></span>
                <br/>
                <span>- GST included where applicable.</span>
                <br/>
                <span>- No return or exchange without original receipt.</span>
                <br/>
                <span>- Return or exchange is possible within 7 days of Sale. </span>
                <br/>
                <span>- Make sure the product you are returning or exchanging is in original condition and intact with all tags. </span>
                <br/>
                <span>- Sale Products/Items cannot be returned or exchanged.</span>
                <br/>
                <span>- Company reserve the right of changing term and condition without prior notice.</span>
                <br/>
                <span>- In case of any query fee free to contact us at:</span>
                <br/>
                <t t-esc="widget.pos.company.phone"/>
                <br/>
                <t t-esc="widget.pos.company.website"/>
                <br/>
                <t t-esc="widget.pos.company.social_facebook"/>
                <br/>
                <t t-esc="widget.pos.company.social_instagram"/>
            </div>
            <hr style="width: 100%;border-top:1px dotted #000;"/>
            <div class="pos-center-align">
                Software Developed By:<strong>Dynexcel</strong><br/>
                Phone:<strong>+923331616393</strong><br/>
                www.dynexcel.com
            </div>
<!--            <div class='orderlines'>-->
<!--                <t t-foreach='receipt.orderlines' t-as='line'>-->
<!--                    <t t-set='simple' t-value='(line.discount === 0 and line.unit_name === "Units" and line.quantity === 1 and !discount_to_show and !(line.display_discount_policy == "without_discount" &amp;&amp; line.price != line.price_lst))' />-->
<!--                    <t t-if='simple'>-->
<!--                        <div><t t-esc='line.product_name_wrapped[0]' /><span t-esc='widget.format_currency_no_symbol(line.price_display)' class="price_display pos-receipt-right-align"/></div><t t-call="OrderReceiptWrappedProductNameLines"/></t>-->
<!--                    <t t-if='!simple'>-->
<!--                        <div t-esc='line.product_name_wrapped[0]'/><t t-call="OrderReceiptWrappedProductNameLines"/><t t-if="line.display_discount_policy == 'without_discount' &amp;&amp; line.price != line.price_lst"><div class="pos-receipt-left-padding"><t t-esc="widget.format_currency_no_symbol(line.price_lst)" />-><t t-esc="widget.format_currency_no_symbol(line.price)" /></div>-->
<!--                        </t>-->
<!--                        <t t-elif='line.discount !== 0'>-->
<!--                            <div class="pos-receipt-left-padding">-->
<!--                                <t t-if="pos.config.iface_tax_included === 'total'">-->
<!--                                    <t t-esc="widget.format_currency_no_symbol(line.price_with_tax_before_discount)"/>-->
<!--                                </t>-->
<!--                                <t t-else="">-->
<!--                                    <t t-esc="widget.format_currency_no_symbol(line.price)"/>-->
<!--                                </t>-->
<!--                            </div>-->
<!--                        </t>-->
<!--                        <t t-if='line.discount !== 0'>-->
<!--                            <div class="pos-receipt-left-padding">-->
<!--                                Discount: <t t-esc='line.discount' />%-->
<!--                            </div>-->
<!--                        </t>-->
<!--                        <div class="pos-receipt-left-padding">-->
<!--                            <t t-esc="Math.round(line.quantity * Math.pow(10, pos.dp['Product Unit of Measure'])) / Math.pow(10, pos.dp['Product Unit of Measure'])"/>-->
<!--                            <t t-if='line.unit_name !== "Units"' t-esc='line.unit_name'/>-->
<!--                            x-->
<!--                            <t t-esc='widget.format_currency_no_symbol(line.price_display_one)' />-->
<!--                            <span class="price_display pos-receipt-right-align">-->
<!--                                <t t-esc='widget.format_currency_no_symbol(line.price_display)'/>-->
<!--                            </span>-->
<!--                        </div>-->
<!--                    </t>-->
<!--                </t>-->
<!--            </div>-->
        </div>
    </t>
</templates>
<!--<templates id="template" xml:space="preserve">-->
<!--    <t t-extend="OrderReceipt">-->
<!--        <t t-jquery=".pos-receipt .pos-receipt-contact" t-operation='append'>-->

<!--            <t t-if='receipt.client'>-->
<!--                <div>Client: <t t-esc='receipt.client' /></div>-->
<!--            </t>-->
<!--        </t>-->
<!--    </t>-->
<!--    <t t-name="PosTicket">-->
<!--        <div class="pos-sale-ticket" style="column-gap:5px; font-family:Inconsolata; font-size: 15px;">-->
<!--            <div class="pos-logo" style="margin-top: 1px;" align="center">-->
<!--                 <img t-att-src="'data:image/png;base64,'+ widget.pos.company.logo"-->
<!--                      style="max-height: 1.5cm; width: 80%;"/>-->
<!--            </div>-->
<!--        </div>-->

<!--        <br/>-->
<!--        <div class="pos-center-align">-->
<!--            <h2>-->
<!--                <b>-->
<!--                    WAREHOUSE-->
<!--                </b>-->
<!--            </h2>-->
<!--        </div>-->
<!--    </t>-->
<!--</templates>-->